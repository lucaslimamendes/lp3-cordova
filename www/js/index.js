/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */

// Wait for the deviceready event before using any of Cordova's device APIs.
// See https://cordova.apache.org/docs/en/latest/cordova/events/events.html#deviceready
document.addEventListener('deviceready', onDeviceReady, false);

function onDeviceReady() {
    // Cordova is now initialized. Have fun!
    console.log('Running cordova-' + cordova.platformId + '@' + cordova.version);

    $('body#page-home article form.fake-form a').on('click', function (e) {
        e.preventDefault();
        $('body#page-home article form.fake-form').submit();
    });

    $('body#page-home article form.fake-form').on('submit', function (e) {
        e.preventDefault();
        $('body#page-home article .result').empty();
        $.ajax("https://api.nationalize.io/?name=" + $('body#page-home article form.fake-form input').val())
            .done(function (res) {
                res.country.forEach(element => {
                    $('body#page-home article .result').append('<div class="res-item"><span class="percentage">' + parseFloat(element.probability * 100).toFixed(2) + '% de chance de ser </span><span class="country">' + pais.find(e => e.cigla == element.country_id).nome + '</span></div>')
                });
            })
            .fail(function (err) {
                console.log('err ', err)
            });
    })
}


var pais = [
    { "cigla": "*", "nome": "All" },
    { "cigla": "FR", "nome": "France" },
    { "cigla": "IT", "nome": "Italy" },
    { "cigla": "ES", "nome": "Spain" },
    { "cigla": "TR", "nome": "Turkey" },
    { "cigla": "DE", "nome": "Germany" },
    { "cigla": "PL", "nome": "Poland" },
    { "cigla": "GB", "nome": "United Kingdom" },
    { "cigla": "RU", "nome": "Russia" },
    { "cigla": "CZ", "nome": "Czech Republic" },
    { "cigla": "PT", "nome": "Portugal" },
    { "cigla": "NL", "nome": "Netherlands" },
    { "cigla": "BE", "nome": "Belgium" },
    { "cigla": "MA", "nome": "Morocco" },
    { "cigla": "PH", "nome": "Philippines" },
    { "cigla": "US", "nome": "United States" },
    { "cigla": "RO", "nome": "Romania" },
    { "cigla": "DZ", "nome": "Algeria" },
    { "cigla": "NG", "nome": "Nigeria" },
    { "cigla": "CH", "nome": "Switzerland" },
    { "cigla": "HU", "nome": "Hungary" },
    { "cigla": "TH", "nome": "Thailand" },
    { "cigla": "SE", "nome": "Sweden" },
    { "cigla": "ID", "nome": "Indonesia" },
    { "cigla": "IN", "nome": "India" },
    { "cigla": "UA", "nome": "Ukraine" },
    { "cigla": "MY", "nome": "Malaysia" },
    { "cigla": "TN", "nome": "Tunisia" },
    { "cigla": "SA", "nome": "Saudi Arabia" },
    { "cigla": "GR", "nome": "Greece" },
    { "cigla": "CI", "nome": "Ivory Coast" },
    { "cigla": "AT", "nome": "Austria" },
    { "cigla": "ZA", "nome": "South Africa" },
    { "cigla": "KR", "nome": "South Korea" },
    { "cigla": "CN", "nome": "China" },
    { "cigla": "RS", "nome": "Serbia" },
    { "cigla": "JP", "nome": "Japan" },
    { "cigla": "EG", "nome": "Egypt" },
    { "cigla": "SK", "nome": "Slovakia" },
    { "cigla": "SN", "nome": "Senegal" },
    { "cigla": "DK", "nome": "Denmark" },
    { "cigla": "FI", "nome": "Finland" },
    { "cigla": "CM", "nome": "Cameroon" },
    { "cigla": "IR", "nome": "Iran" },
    { "cigla": "AR", "nome": "Argentina" },
    { "cigla": "CA", "nome": "Canada" },
    { "cigla": "SG", "nome": "Singapore" },
    { "cigla": "PK", "nome": "Pakistan" },
    { "cigla": "GH", "nome": "Ghana" },
    { "cigla": "LB", "nome": "Lebanon" },
    { "cigla": "IE", "nome": "Ireland" },
    { "cigla": "AO", "nome": "Angola" },
    { "cigla": "NO", "nome": "Norway" },
    { "cigla": "BY", "nome": "Belarus" },
    { "cigla": "BR", "nome": "Brazil" },
    { "cigla": "MX", "nome": "Mexico" },
    { "cigla": "CO", "nome": "Colombia" },
    { "cigla": "KE", "nome": "Kenya" },
    { "cigla": "CL", "nome": "Chile" },
    { "cigla": "KW", "nome": "Kuwait" },
    { "cigla": "AL", "nome": "Albania" },
    { "cigla": "VE", "nome": "Venezuela" },
    { "cigla": "RE", "nome": "Reunion" },
    { "cigla": "BA", "nome": "Bosnia and Herzegovina" },
    { "cigla": "IL", "nome": "Israel" },
    { "cigla": "TW", "nome": "Taiwan" },
    { "cigla": "SI", "nome": "Slovenia" },
    { "cigla": "KZ", "nome": "Kazakhstan" },
    { "cigla": "PE", "nome": "Peru" },
    { "cigla": "AZ", "nome": "Azerbaijan" },
    { "cigla": "AE", "nome": "United Arab Emirates" },
    { "cigla": "CY", "nome": "Cyprus" },
    { "cigla": "LT", "nome": "Lithuania" },
    { "cigla": "DO", "nome": "Dominican Republic" },
    { "cigla": "JO", "nome": "Jordan" },
    { "cigla": "MD", "nome": "Moldova" },
    { "cigla": "BJ", "nome": "Benin" },
    { "cigla": "BG", "nome": "Bulgaria" },
    { "cigla": "CD", "nome": "Democratic Republic of the ngo	110" },
    { "cigla": "HR", "nome": "Croatia" },
    { "cigla": "LV", "nome": "Latvia" },
    { "cigla": "HK", "nome": "Hong Kong" },
    { "cigla": "MZ", "nome": "Mozambique" },
    { "cigla": "AU", "nome": "Australia" },
    { "cigla": "LU", "nome": "Luxembourg" },
    { "cigla": "UG", "nome": "Uganda" },
    { "cigla": "ML", "nome": "Mali" },
    { "cigla": "BF", "nome": "Burkina Faso" },
    { "cigla": "MU", "nome": "Mauritius" },
    { "cigla": "OM", "nome": "Oman" },
    { "cigla": "TG", "nome": "Togo" },
    { "cigla": "QA", "nome": "Qatar" },
    { "cigla": "MK", "nome": "Macedonia" },
    { "cigla": "MG", "nome": "Madagascar" },
    { "cigla": "VN", "nome": "Vietnam" },
    { "cigla": "GA", "nome": "Gabon" },
    { "cigla": "EE", "nome": "Estonia" },
    { "cigla": "IQ", "nome": "Iraq" },
    { "cigla": "MT", "nome": "Malta" },
    { "cigla": "BH", "nome": "Bahrain" },
    { "cigla": "TZ", "nome": "Tanzania" },
    { "cigla": "EC", "nome": "Ecuador" },
    { "cigla": "GE", "nome": "Georgia" },
    { "cigla": "AM", "nome": "Armenia" },
    { "cigla": "SD", "nome": "Sudan" },
    { "cigla": "ET", "nome": "Ethiopia" },
    { "cigla": "MM", "nome": "Myanmar" },
    { "cigla": "ME", "nome": "Montenegro" },
    { "cigla": "SY", "nome": "Syria" },
    { "cigla": "UZ", "nome": "Uzbekistan" },
    { "cigla": "ZW", "nome": "Zimbabwe" },
    { "cigla": "DJ", "nome": "Djibouti" },
    { "cigla": "LK", "nome": "Sri Lanka" },
    { "cigla": "BD", "nome": "Bangladesh" },
    { "cigla": "SH", "nome": "Saint Helena" },
    { "cigla": "BW", "nome": "Botswana" },
    { "cigla": "CV", "nome": "Cape Verde" },
    { "cigla": "BO", "nome": "Bolivia" },
    { "cigla": "YE", "nome": "Yemen" },
    { "cigla": "RW", "nome": "Rwanda" },
    { "cigla": "IS", "nome": "Iceland" },
    { "cigla": "LY", "nome": "Libya" },
    { "cigla": "NE", "nome": "Niger" },
    { "cigla": "AD", "nome": "Andorra" },
    { "cigla": "GM", "nome": "Gambia" },
    { "cigla": "CG", "nome": "Republic of the Congo" },
    { "cigla": "ZM", "nome": "Zambia" },
    { "cigla": "AF", "nome": "Afghanistan" },
    { "cigla": "NA", "nome": "Namibia" },
    { "cigla": "MR", "nome": "Mauritania" },
    { "cigla": "UY", "nome": "Uruguay" },
    { "cigla": "CR", "nome": "Costa Rica" },
    { "cigla": "KG", "nome": "Kyrgyzstan" },
    { "cigla": "PA", "nome": "Panama" },
    { "cigla": "NP", "nome": "Nepal" },
    { "cigla": "GN", "nome": "Guinea" },
    { "cigla": "GP", "nome": "Guadeloupe" },
    { "cigla": "GQ", "nome": "Equatorial Guinea" },
    { "cigla": "MQ", "nome": "Martinique" },
    { "cigla": "SC", "nome": "Seychelles" },
    { "cigla": "CU", "nome": "Cuba" },
    { "cigla": "NZ", "nome": "New Zealand" },
    { "cigla": "GT", "nome": "Guatemala" },
    { "cigla": "MC", "nome": "Monaco" },
    { "cigla": "MV", "nome": "Maldives" },
    { "cigla": "MW", "nome": "Malawi" },
    { "cigla": "SV", "nome": "El Salvador" },
    { "cigla": "GF", "nome": "French Guiana" },
    { "cigla": "SL", "nome": "Sierra Leone" },
    { "cigla": "LR", "nome": "Liberia" },
    { "cigla": "NI", "nome": "Nicaragua" },
    { "cigla": "KH", "nome": "Cambodia" },
    { "cigla": "TJ", "nome": "Tajikistan" },
    { "cigla": "PR", "nome": "Puerto Rico" },
    { "cigla": "BI", "nome": "Burundi" },
    { "cigla": "PY", "nome": "Paraguay" },
    { "cigla": "KM", "nome": "Comoros" },
    { "cigla": "LS", "nome": "Lesotho" },
    { "cigla": "SO", "nome": "Somalia" },
    { "cigla": "HN", "nome": "Honduras" },
    { "cigla": "TD", "nome": "Chad" },
    { "cigla": "GI", "nome": "Gibraltar" },
    { "cigla": "BN", "nome": "Brunei" },
    { "cigla": "SM", "nome": "San Marino" },
    { "cigla": "JE", "nome": "Jersey" },
    { "cigla": "SZ", "nome": "Swaziland" },
    { "cigla": "TM", "nome": "Turkmenistan" },
    { "cigla": "NC", "nome": "New Caledonia" },
    { "cigla": "MN", "nome": "Mongolia" },
    { "cigla": "LI", "nome": "Liechtenstein" },
    { "cigla": "GL", "nome": "Greenland" },
    { "cigla": "BT", "nome": "Bhutan" },
    { "cigla": "PF", "nome": "French Polynesia" },
    { "cigla": "ST", "nome": "Sao Tome and Principe" },
    { "cigla": "YT", "nome": "Mayotte" },
    { "cigla": "FO", "nome": "Faroe Islands" },
    { "cigla": "JM", "nome": "Jamaica" },
    { "cigla": "HT", "nome": "Haiti" },
    { "cigla": "BS", "nome": "Bahamas" },
    { "cigla": "GW", "nome": "Guinea-Bissau" },
    { "cigla": "FJ", "nome": "Fiji" },
    { "cigla": "GG", "nome": "Guernsey" },
    { "cigla": "LA", "nome": "Laos" },
    { "cigla": "TL", "nome": "East Timor" },
    { "cigla": "TT", "nome": "Trinidad and Tobago" },
    { "cigla": "AG", "nome": "Antigua and Barbuda" },
    { "cigla": "EH", "nome": "Western Sahara" },
    { "cigla": "CF", "nome": "Central African Republic" },
    { "cigla": "PW", "nome": "Palau" },
    { "cigla": "IM", "nome": "Isle of Man" },
    { "cigla": "AW", "nome": "Aruba" },
    { "cigla": "BZ", "nome": "Belize" },
    { "cigla": "AS", "nome": "American Samoa" },
    { "cigla": "AI", "nome": "Anguilla" },
    { "cigla": "MP", "nome": "Northern Mariana Islands" },
    { "cigla": "BM", "nome": "Bermuda" },
    { "cigla": "ER", "nome": "Eritrea" },
    { "cigla": "SR", "nome": "Suriname" },
    { "cigla": "VG", "nome": "British Virgin Islands" },
    { "cigla": "VI", "nome": "U.S. Virgin Islands" },
    { "cigla": "GY", "nome": "Guyana" },
    { "cigla": "BB", "nome": "Barbados" },
    { "cigla": "MH", "nome": "Marshall Islands" },
    { "cigla": "MO", "nome": "Macao" },
    { "cigla": "PG", "nome": "Papua New Guinea" },
    { "cigla": "KY", "nome": "Cayman Islands" },
    { "cigla": "KI", "nome": "Kiribati" },
    { "cigla": "AN", "nome": "Netherlands Antilles" },
    { "cigla": "CK", "nome": "Cook Islands" },
    { "cigla": "GU", "nome": "Guam" },
    { "cigla": "WF", "nome": "Wallis and Futuna" },
    { "cigla": "PS", "nome": "Palestine" },
    { "cigla": "TC", "nome": "Turks and Caicos Islands" },
    { "cigla": "VU", "nome": "Vanuatu" },
    { "cigla": "LC", "nome": "Saint Lucia" },
    { "cigla": "TO", "nome": "Tonga" },
    { "cigla": "CC", "nome": "Cocos Islands" },
    { "cigla": "WS", "nome": "Samoa" },
    { "cigla": "GD", "nome": "Grenada" },
    { "cigla": "VA", "nome": "Vatican" },
    { "cigla": "IO", "nome": "British Indian Ocean Territory" },
    { "cigla": "FM", "nome": "Micronesia" },
    { "cigla": "NU", "nome": "Niue" },
    { "cigla": "BL", "nome": "Saint Barthelemy" },
    { "cigla": "KN", "nome": "Saint Kitts and Nevis" },
    { "cigla": "PM", "nome": "Saint Pierre and Miquelon" },
    { "cigla": "FK", "nome": "Falkland Islands" },
    { "cigla": "AQ", "nome": "Antarctica" },
    { "cigla": "PN", "nome": "Pitcairn" },
    { "cigla": "MF", "nome": "Saint Martin" },
    { "cigla": "TV", "nome": "Tuvalu" },
    { "cigla": "VC", "nome": "Saint Vincent and the Grenadines" },
    { "cigla": "DM", "nome": "Dominica" },
    { "cigla": "SB", "nome": "Solomon Islands" },
    { "cigla": "TK", "nome": "Tokelau" },
    { "cigla": "NF", "nome": "Norfolk Island" },
    { "cigla": "CX", "nome": "Christmas Island" },
    { "cigla": "NR", "nome": "Nauru" },
    { "cigla": "SJ", "nome": "Svalbard and Jan Mayen" },
    { "cigla": "MS", "nome": "Montserrat" },
    { "cigla": "KP", "nome": "North Korea" },
    { "cigla": "GS", "nome": "South Georgia And Sandwich Isl." },
    { "cigla": "BV", "nome": "Bouvet Island" },
];